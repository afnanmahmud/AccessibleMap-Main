{"ast":null,"code":"var _jsxFileName = \"/Users/isaacmwesigwa/accessible-map/src/components/AccessibleMap.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState, useCallback } from 'react';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport OSM from 'ol/source/OSM';\nimport XYZ from 'ol/source/XYZ';\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport LineString from 'ol/geom/LineString';\nimport { fromLonLat } from 'ol/proj';\nimport { Icon, Style, Stroke } from 'ol/style';\nimport { defaults as defaultControls } from 'ol/control';\nimport Openrouteservice from 'openrouteservice-js';\nimport MapSearch from './MapSearch/MapSearch';\nimport './AccessibleMap.css';\nimport 'ol/ol.css';\n\n// Constants\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst orsDirections = new Openrouteservice.Directions({\n  api_key: '5b3ce3597851110001cf6248a1d686e75cef4e86a9782464ccdb71cf'\n});\nconst INITIAL_CENTER = fromLonLat([-84.5831, 34.0390]);\nconst ACCESSIBLE_LOCATIONS = [{\n  name: 'Carmichael Student Center',\n  coordinates: [-84.5831447839737, 34.038533480073355]\n}, {\n  name: 'Carmichael Student Center ',\n  coordinates: [-84.58283364772798, 34.038660170620055]\n}, {\n  name: 'Academic Learning Center',\n  coordinates: [-84.58317697048189, 34.03931806936354]\n}, {\n  name: 'Academic Learning Center ',\n  coordinates: [-84.58298921585084, 34.03978259614599]\n}, {\n  name: 'English',\n  coordinates: [-84.58414524793626, 34.03942475516541]\n}, {\n  name: 'English ',\n  coordinates: [-84.5841532945633, 34.03910025210137]\n}, {\n  name: 'English ',\n  coordinates: [-84.58402454853059, 34.03979815441523]\n}, {\n  name: 'University Hall',\n  coordinates: [-84.58437055349351, 34.038938000103784]\n}, {\n  name: 'Willingham Hall',\n  coordinates: [-84.58483189344408, 34.038973562212]\n}, {\n  name: 'Social Sciences',\n  coordinates: [-84.58521813154222, 34.03870240076022]\n}, {\n  name: \"Technology Services\",\n  \"coordinates\": [-84.58511178527453, 34.04324444304241]\n}, {\n  name: \"Jolley Lodge\",\n  \"coordinates\": [-84.58503997779815, 34.041975382594565]\n}, {\n  name: \"Bailey Performance Center\",\n  \"coordinates\": [-84.58388467029071, 34.04104538235975]\n}, {\n  name: \"Zuckerman Museum\",\n  \"coordinates\": [-84.58332319433181, 34.041127569948884]\n}, {\n  name: \"Prillaman Health Sciences\",\n  \"coordinates\": [-84.5823230947359, 34.04126007515278]\n}, {\n  name: \"Prillaman Health Sciences 2\",\n  \"coordinates\": [-84.58227837728104, 34.04040804794117]\n}, {\n  name: \"Prillaman Health Sciences 3\",\n  \"coordinates\": [-84.58162052602621, 34.04049249904415]\n}, {\n  name: \"Central Parking Deck\",\n  \"coordinates\": [-84.58155510939581, 34.04091628989932]\n}, {\n  name: \"Visual Arts\",\n  \"coordinates\": [-84.58495900426912, 34.04014013820758]\n}, {\n  name: \"Wilson Annex\",\n  \"coordinates\": [-84.58407716154898, 34.040382041842314]\n}, {\n  name: \"Wilson Building\",\n  \"coordinates\": [-84.5831444233547, 34.04021534710124]\n}, {\n  name: \"Music Building\",\n  \"coordinates\": [-84.58287930990906, 34.040181974276315]\n}, {\n  name: \"The Commons\",\n  \"coordinates\": [-84.5822049725835, 34.040112254887596]\n}, {\n  name: \"Burruss Building\",\n  \"coordinates\": [-84.58182548615811, 34.03916307618097]\n}, {\n  name: \"Burruss Building 2\",\n  \"coordinates\": [-84.58151844214942, 34.039334634541554]\n}, {\n  name: \"Bagwell Education Building\",\n  \"coordinates\": [-84.58087532494412, 34.0396379119677]\n}, {\n  name: \"Bagwell Education Building 2\",\n  \"coordinates\": [-84.5809418434928, 34.039037425081695]\n}, {\n  name: \"Kennesaw Hall\",\n  \"coordinates\": [-84.580944525696, 34.03889684364226]\n}, {\n  name: \"Kennesaw Hall 2\",\n  \"coordinates\": [-84.5807963755791, 34.037958423913985]\n}, {\n  name: \"Kennesaw Hall 3\",\n  \"coordinates\": [-84.58038669152127, 34.03813234820042]\n}, {\n  name: \"Convocation Center\",\n  \"coordinates\": [-84.5804216302843, 34.03739857647659]\n}, {\n  name: \"Siegel Student Recreation & Activities Center\",\n  \"coordinates\": [-84.58134592872163, 34.03685306796862]\n}, {\n  name: \"Siegel Student Recreation & Activities Center 2\",\n  \"coordinates\": [-84.58239021303122, 34.03685051220012]\n}, {\n  name: \"Siegel Student Recreation & Activities Center 3\",\n  \"coordinates\": [-84.58220111729591, 34.03752287232788]\n}, {\n  name: 'East Parking Deck',\n  coordinates: [-84.58115296368257, 34.0366216129326]\n}, {\n  name: 'University Bookstore',\n  coordinates: [-84.5831169079928, 34.03785497707045]\n}, {\n  name: 'Sturgis Library',\n  coordinates: [-84.58373969823, 34.03817439372666]\n}, {\n  name: 'Pilcher Building',\n  coordinates: [-84.58447613924874, 34.038288000488095]\n}, {\n  name: 'Pilcher Building 2',\n  coordinates: [-84.58431721837084, 34.03806406828368]\n}, {\n  name: 'Technology Annex',\n  coordinates: [-84.58464920626845, 34.03786021162154]\n}, {\n  name: 'Math & Statistics',\n  coordinates: [-84.58383582638564, 34.03772185089651]\n}, {\n  name: 'Public Safety',\n  coordinates: [-84.58507185459054, 34.03779644824888]\n}, {\n  name: 'Office of Institutional Research',\n  coordinates: [-84.58675097542397, 34.03693417640655]\n}, {\n  name: 'Institute for Cybersecurity Workforce Development',\n  coordinates: [-84.58695333977656, 34.0366027572148]\n}, {\n  name: 'Catholic Center at KSU',\n  coordinates: [-84.5868852037043, 34.03634308250317]\n}, {\n  name: 'Science Building',\n  coordinates: [-84.5838534655383, 34.036176140973545]\n}, {\n  name: 'Clendenin Building',\n  coordinates: [-84.5832859278377, 34.035990222567854]\n}, {\n  name: 'Science Laboratory',\n  coordinates: [-84.58378799464447, 34.0358330372012]\n}, {\n  name: 'Town Point Office of Undergraduate Admissions',\n  coordinates: [-84.5812208966054, 34.030192038882014]\n}, {\n  name: 'Town Point Office of Undergraduate Admissions 2',\n  coordinates: [-84.581545605683, 34.02995662532501]\n}, {\n  name: 'Student Athlete Success Services',\n  coordinates: [-84.58461356049521, 34.02971179412259]\n}, {\n  name: 'Owl\\'s Nest',\n  coordinates: [-84.57001181566912, 34.029991983405665]\n}, {\n  name: 'KSU Center',\n  coordinates: [-84.57355444798323, 34.03153703386949]\n}, {\n  name: 'KSU Center 2',\n  coordinates: [-84.57475627461659, 34.031628424526644]\n}, {\n  name: 'KSU Center 3',\n  coordinates: [-84.5748219887467, 34.030627036521274]\n}, {\n  name: 'KSU Center 4',\n  coordinates: [-84.57358939259085, 34.03052548858506]\n}, {\n  name: 'Public Safety & University Police',\n  coordinates: [-84.56971263811648, 34.027141980291134]\n}];\n\n// Types\n\nconst AccessibleMap = ({\n  className\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstance = useRef(null);\n  const vectorSourceRef = useRef(new VectorSource());\n  const userMarkerRef = useRef(new Feature());\n  const [viewMode, setViewMode] = useState('standard');\n  const [startLocation, setStartLocation] = useState('');\n  const [endLocation, setEndLocation] = useState('');\n  const placeMarkers = useCallback(() => {\n    ACCESSIBLE_LOCATIONS.forEach(({\n      coordinates\n    }) => {\n      const marker = new Feature({\n        geometry: new Point(fromLonLat(coordinates))\n      });\n      marker.setStyle(new Style({\n        image: new Icon({\n          src: 'https://cdn2.iconfinder.com/data/icons/wsd-map-markers-2/512/wsd_markers_97-512.png',\n          scale: 0.04,\n          anchor: [0.5, 1]\n        })\n      }));\n      vectorSourceRef.current.addFeature(marker);\n    });\n  }, []);\n  const startTracking = useCallback(() => {\n    if (!navigator.geolocation) {\n      console.error('Geolocation is not supported');\n      return;\n    }\n    const watchId = navigator.geolocation.watchPosition(({\n      coords\n    }) => {\n      var _mapInstance$current;\n      const coordinates = fromLonLat([coords.longitude, coords.latitude]);\n      userMarkerRef.current.setGeometry(new Point(coordinates));\n      if (!vectorSourceRef.current.hasFeature(userMarkerRef.current)) {\n        userMarkerRef.current.setStyle(new Style({\n          image: new Icon({\n            src: 'https://cdn-icons-png.flaticon.com/128/884/884094.png',\n            scale: 0.2\n          })\n        }));\n        vectorSourceRef.current.addFeature(userMarkerRef.current);\n      }\n      (_mapInstance$current = mapInstance.current) === null || _mapInstance$current === void 0 ? void 0 : _mapInstance$current.getView().setCenter(coordinates);\n    }, error => console.error('Tracking error:', error), {\n      enableHighAccuracy: true,\n      maximumAge: 0,\n      timeout: 5000\n    });\n    return () => navigator.geolocation.clearWatch(watchId);\n  }, []);\n  useEffect(() => {\n    if (!mapRef.current) return;\n    const vectorLayer = new VectorLayer({\n      source: vectorSourceRef.current\n    });\n    const standardLayer = new TileLayer({\n      source: new OSM(),\n      visible: true\n    });\n    const satelliteLayer = new TileLayer({\n      source: new XYZ({\n        url: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\n        maxZoom: 19\n      }),\n      visible: false\n    });\n    mapInstance.current = new Map({\n      target: mapRef.current,\n      // Fixed typo: imageRef â†’ mapRef\n      layers: [standardLayer, satelliteLayer, vectorLayer],\n      view: new View({\n        center: INITIAL_CENTER,\n        zoom: 17,\n        maxZoom: 19\n      }),\n      controls: defaultControls()\n    });\n    placeMarkers();\n    startTracking();\n    return () => {\n      var _mapInstance$current2;\n      (_mapInstance$current2 = mapInstance.current) === null || _mapInstance$current2 === void 0 ? void 0 : _mapInstance$current2.setTarget(undefined);\n    };\n  }, [placeMarkers, startTracking]);\n  const toggleViewMode = useCallback(() => {\n    if (!mapInstance.current) return;\n    const layers = mapInstance.current.getLayers().getArray();\n    layers[0].setVisible(viewMode === 'satellite');\n    layers[1].setVisible(viewMode === 'standard');\n    setViewMode(prev => prev === 'standard' ? 'satellite' : 'standard');\n  }, [viewMode]);\n  const findLocationByName = useCallback(query => {\n    var _ACCESSIBLE_LOCATIONS;\n    if (!query) return null;\n    const lowerQuery = query.toLowerCase();\n    return ((_ACCESSIBLE_LOCATIONS = ACCESSIBLE_LOCATIONS.find(loc => loc.name.toLowerCase() === lowerQuery || loc.name.toLowerCase().includes(lowerQuery))) === null || _ACCESSIBLE_LOCATIONS === void 0 ? void 0 : _ACCESSIBLE_LOCATIONS.coordinates) || null;\n  }, []);\n  const clearRoutes = useCallback(() => {\n    vectorSourceRef.current.getFeatures().filter(feature => feature.getGeometry() instanceof LineString || feature.get('type') === 'marker').forEach(feature => {\n      var _vectorSourceRef$curr;\n      return (_vectorSourceRef$curr = vectorSourceRef.current) === null || _vectorSourceRef$curr === void 0 ? void 0 : _vectorSourceRef$curr.removeFeature(feature);\n    });\n  }, []);\n  const calculateRoute = useCallback(() => {\n    var _mapInstance$current3;\n    clearRoutes();\n    const startCoords = findLocationByName(startLocation);\n    const endCoords = findLocationByName(endLocation);\n    if (!startCoords || !endCoords) {\n      alert('Please enter valid start and end locations');\n      return;\n    }\n    const startPoint = fromLonLat(startCoords);\n    const endPoint = fromLonLat(endCoords);\n    const addMarker = (point, src) => {\n      const marker = new Feature({\n        geometry: new Point(point),\n        type: 'marker'\n      });\n      marker.setStyle(new Style({\n        image: new Icon({\n          src,\n          scale: 0.2,\n          anchor: [0.5, 1]\n        })\n      }));\n      vectorSourceRef.current.addFeature(marker);\n    };\n    addMarker(startPoint, 'https://cdn-icons-png.flaticon.com/128/7976/7976202.png');\n    addMarker(endPoint, 'https://cdn-icons-png.flaticon.com/128/9131/9131546.png');\n    (_mapInstance$current3 = mapInstance.current) === null || _mapInstance$current3 === void 0 ? void 0 : _mapInstance$current3.getView().fit([Math.min(startPoint[0], endPoint[0]), Math.min(startPoint[1], endPoint[1]), Math.max(startPoint[0], endPoint[0]), Math.max(startPoint[1], endPoint[1])], {\n      padding: [50, 50, 50, 50],\n      duration: 1000,\n      maxZoom: 18\n    });\n    orsDirections.calculate({\n      coordinates: [startCoords, endCoords],\n      profile: 'foot-walking',\n      format: 'geojson',\n      alternative_routes: {\n        target_count: 3,\n        share_factor: 0.6\n      }\n    }).then(response => {\n      const colors = ['blue', 'grey', 'black'];\n      response.features.forEach((feature, index) => {\n        const route = new Feature({\n          geometry: new LineString(feature.geometry.coordinates.map(coord => fromLonLat(coord)))\n        });\n        route.setStyle(new Style({\n          stroke: new Stroke({\n            color: colors[index % colors.length],\n            width: 4\n          })\n        }));\n        vectorSourceRef.current.addFeature(route);\n      });\n    }).catch(err => console.error('Route calculation error:', err));\n  }, [startLocation, endLocation, clearRoutes, findLocationByName]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"map-wrapper\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"map-page\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"top-bar\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-container\",\n          children: /*#__PURE__*/_jsxDEV(MapSearch, {\n            onStartChange: setStartLocation,\n            onEndChange: setEndLocation,\n            onSubmit: calculateRoute\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: `map-root ${className || ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          ref: mapRef,\n          className: \"map-container\",\n          role: \"application\",\n          \"aria-label\": \"Interactive accessibility map\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"map-controls\",\n          children: /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: toggleViewMode,\n            className: \"map-toggle-button\",\n            children: viewMode === 'standard' ? 'Satellite' : 'Standard'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 315,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 303,\n    columnNumber: 5\n  }, this);\n};\n_s(AccessibleMap, \"7747SupU3/Q+nFgAhPV1R4D/skQ=\");\n_c = AccessibleMap;\nexport default AccessibleMap;\nvar _c;\n$RefreshReg$(_c, \"AccessibleMap\");","map":{"version":3,"names":["React","useEffect","useRef","useState","useCallback","Map","View","TileLayer","VectorLayer","VectorSource","OSM","XYZ","Feature","Point","LineString","fromLonLat","Icon","Style","Stroke","defaults","defaultControls","Openrouteservice","MapSearch","jsxDEV","_jsxDEV","orsDirections","Directions","api_key","INITIAL_CENTER","ACCESSIBLE_LOCATIONS","name","coordinates","AccessibleMap","className","_s","mapRef","mapInstance","vectorSourceRef","userMarkerRef","viewMode","setViewMode","startLocation","setStartLocation","endLocation","setEndLocation","placeMarkers","forEach","marker","geometry","setStyle","image","src","scale","anchor","current","addFeature","startTracking","navigator","geolocation","console","error","watchId","watchPosition","coords","_mapInstance$current","longitude","latitude","setGeometry","hasFeature","getView","setCenter","enableHighAccuracy","maximumAge","timeout","clearWatch","vectorLayer","source","standardLayer","visible","satelliteLayer","url","maxZoom","target","layers","view","center","zoom","controls","_mapInstance$current2","setTarget","undefined","toggleViewMode","getLayers","getArray","setVisible","prev","findLocationByName","query","_ACCESSIBLE_LOCATIONS","lowerQuery","toLowerCase","find","loc","includes","clearRoutes","getFeatures","filter","feature","getGeometry","get","_vectorSourceRef$curr","removeFeature","calculateRoute","_mapInstance$current3","startCoords","endCoords","alert","startPoint","endPoint","addMarker","point","type","fit","Math","min","max","padding","duration","calculate","profile","format","alternative_routes","target_count","share_factor","then","response","colors","features","index","route","map","coord","stroke","color","length","width","catch","err","children","onStartChange","onEndChange","onSubmit","fileName","_jsxFileName","lineNumber","columnNumber","ref","role","onClick","_c","$RefreshReg$"],"sources":["/Users/isaacmwesigwa/accessible-map/src/components/AccessibleMap.tsx"],"sourcesContent":["import React, { useEffect, useRef, useState, useCallback } from 'react';\nimport Map from 'ol/Map';\nimport View from 'ol/View';\nimport TileLayer from 'ol/layer/Tile';\nimport VectorLayer from 'ol/layer/Vector';\nimport VectorSource from 'ol/source/Vector';\nimport OSM from 'ol/source/OSM';\nimport XYZ from 'ol/source/XYZ';\nimport Feature from 'ol/Feature';\nimport Point from 'ol/geom/Point';\nimport LineString from 'ol/geom/LineString';\nimport { fromLonLat } from 'ol/proj';\nimport { Icon, Style, Stroke } from 'ol/style';\nimport { defaults as defaultControls } from 'ol/control';\nimport Openrouteservice from 'openrouteservice-js';\nimport MapSearch from './MapSearch/MapSearch';\nimport './AccessibleMap.css';\nimport 'ol/ol.css';\n\n// Constants\nconst orsDirections = new Openrouteservice.Directions({\n  api_key: '5b3ce3597851110001cf6248a1d686e75cef4e86a9782464ccdb71cf',\n});\n\nconst INITIAL_CENTER = fromLonLat([-84.5831, 34.0390]);\nconst ACCESSIBLE_LOCATIONS = [\n    { name: 'Carmichael Student Center', coordinates: [-84.5831447839737, 34.038533480073355] },\n    { name: 'Carmichael Student Center ', coordinates: [-84.58283364772798, 34.038660170620055] },\n    { name: 'Academic Learning Center', coordinates: [-84.58317697048189, 34.03931806936354] },\n    { name: 'Academic Learning Center ', coordinates: [-84.58298921585084, 34.03978259614599] },\n    { name: 'English', coordinates: [-84.58414524793626, 34.03942475516541] },\n    { name: 'English ', coordinates: [-84.5841532945633, 34.03910025210137] },\n    { name: 'English ', coordinates: [-84.58402454853059, 34.03979815441523] },\n    { name: 'University Hall', coordinates: [-84.58437055349351, 34.038938000103784] },\n    { name: 'Willingham Hall', coordinates: [-84.58483189344408, 34.038973562212] },\n    { name: 'Social Sciences', coordinates: [-84.58521813154222, 34.03870240076022] },\n    { name: \"Technology Services\", \"coordinates\": [-84.58511178527453, 34.04324444304241] },\n    { name: \"Jolley Lodge\", \"coordinates\": [-84.58503997779815, 34.041975382594565] },\n    { name: \"Bailey Performance Center\", \"coordinates\": [-84.58388467029071, 34.04104538235975] },\n    { name: \"Zuckerman Museum\", \"coordinates\": [-84.58332319433181, 34.041127569948884] },\n    { name: \"Prillaman Health Sciences\", \"coordinates\": [-84.5823230947359, 34.04126007515278] },\n    { name: \"Prillaman Health Sciences 2\", \"coordinates\": [-84.58227837728104, 34.04040804794117] },\n    { name: \"Prillaman Health Sciences 3\", \"coordinates\": [-84.58162052602621, 34.04049249904415] },\n    { name: \"Central Parking Deck\", \"coordinates\": [-84.58155510939581, 34.04091628989932] },\n    { name: \"Visual Arts\", \"coordinates\": [-84.58495900426912, 34.04014013820758] },\n    { name: \"Wilson Annex\", \"coordinates\": [-84.58407716154898, 34.040382041842314] },\n    { name: \"Wilson Building\", \"coordinates\": [-84.5831444233547, 34.04021534710124] },\n    { name: \"Music Building\", \"coordinates\": [-84.58287930990906, 34.040181974276315] },\n    { name: \"The Commons\", \"coordinates\": [-84.5822049725835, 34.040112254887596] },\n    { name: \"Burruss Building\", \"coordinates\": [-84.58182548615811, 34.03916307618097] },\n    { name: \"Burruss Building 2\", \"coordinates\": [-84.58151844214942, 34.039334634541554] },\n    { name: \"Bagwell Education Building\", \"coordinates\": [-84.58087532494412, 34.0396379119677] },\n    { name: \"Bagwell Education Building 2\", \"coordinates\": [-84.5809418434928, 34.039037425081695] },\n    { name: \"Kennesaw Hall\", \"coordinates\": [-84.580944525696, 34.03889684364226] },\n    { name: \"Kennesaw Hall 2\", \"coordinates\": [-84.5807963755791, 34.037958423913985] },\n    { name: \"Kennesaw Hall 3\", \"coordinates\": [-84.58038669152127, 34.03813234820042] },\n    { name: \"Convocation Center\", \"coordinates\": [-84.5804216302843, 34.03739857647659] },\n    { name: \"Siegel Student Recreation & Activities Center\", \"coordinates\": [-84.58134592872163, 34.03685306796862] },\n    { name: \"Siegel Student Recreation & Activities Center 2\", \"coordinates\": [-84.58239021303122, 34.03685051220012] },\n    { name: \"Siegel Student Recreation & Activities Center 3\", \"coordinates\": [-84.58220111729591, 34.03752287232788] },\n    { name: 'East Parking Deck', coordinates: [-84.58115296368257, 34.0366216129326] },\n    { name: 'University Bookstore', coordinates: [-84.5831169079928, 34.03785497707045] },\n    { name: 'Sturgis Library', coordinates: [-84.58373969823, 34.03817439372666] },\n    { name: 'Pilcher Building', coordinates: [-84.58447613924874, 34.038288000488095] },\n    { name: 'Pilcher Building 2', coordinates: [-84.58431721837084, 34.03806406828368] },\n    { name: 'Technology Annex', coordinates: [-84.58464920626845, 34.03786021162154] },\n    { name: 'Math & Statistics', coordinates: [-84.58383582638564, 34.03772185089651] },\n    { name: 'Public Safety', coordinates: [-84.58507185459054, 34.03779644824888] },\n    { name: 'Office of Institutional Research', coordinates: [-84.58675097542397, 34.03693417640655] },\n    { name: 'Institute for Cybersecurity Workforce Development', coordinates: [-84.58695333977656, 34.0366027572148] },\n    { name: 'Catholic Center at KSU', coordinates: [-84.5868852037043, 34.03634308250317] },\n    { name: 'Science Building', coordinates: [-84.5838534655383, 34.036176140973545] },\n    { name: 'Clendenin Building', coordinates: [-84.5832859278377, 34.035990222567854] },\n    { name: 'Science Laboratory', coordinates: [-84.58378799464447, 34.0358330372012] },\n    { name: 'Town Point Office of Undergraduate Admissions', coordinates: [-84.5812208966054, 34.030192038882014] },\n    { name: 'Town Point Office of Undergraduate Admissions 2', coordinates: [-84.581545605683, 34.02995662532501] },\n    { name: 'Student Athlete Success Services', coordinates: [-84.58461356049521, 34.02971179412259] },\n    { name: 'Owl\\'s Nest', coordinates: [-84.57001181566912, 34.029991983405665] },\n    { name: 'KSU Center', coordinates: [-84.57355444798323, 34.03153703386949] },\n    { name: 'KSU Center 2', coordinates: [-84.57475627461659, 34.031628424526644] },\n    { name: 'KSU Center 3', coordinates: [-84.5748219887467, 34.030627036521274] },\n    { name: 'KSU Center 4', coordinates: [-84.57358939259085, 34.03052548858506] },\n    { name: 'Public Safety & University Police', coordinates: [-84.56971263811648, 34.027141980291134] }\n  ];\n\n// Types\nexport interface AccessibleMapProps {\n  className?: string;\n}\n\nexport interface Location {\n  name: string;\n  coordinates: [number, number];\n}\n\nconst AccessibleMap: React.FC<AccessibleMapProps> = ({ className }) => {\n  const mapRef = useRef<HTMLDivElement>(null);\n  const mapInstance = useRef<Map | null>(null);\n  const vectorSourceRef = useRef<VectorSource>(new VectorSource());\n  const userMarkerRef = useRef<Feature<Point>>(new Feature());\n\n  const [viewMode, setViewMode] = useState<'standard' | 'satellite'>('standard');\n  const [startLocation, setStartLocation] = useState<string>('');\n  const [endLocation, setEndLocation] = useState<string>('');\n\n  const placeMarkers = useCallback(() => {\n    ACCESSIBLE_LOCATIONS.forEach(({ coordinates }) => {\n      const marker = new Feature({\n        geometry: new Point(fromLonLat(coordinates)),\n      });\n\n      marker.setStyle(\n        new Style({\n          image: new Icon({\n            src: 'https://cdn2.iconfinder.com/data/icons/wsd-map-markers-2/512/wsd_markers_97-512.png',\n            scale: 0.04,\n            anchor: [0.5, 1],\n          }),\n        })\n      );\n\n      vectorSourceRef.current.addFeature(marker);\n    });\n  }, []);\n\n  const startTracking = useCallback(() => {\n    if (!navigator.geolocation) {\n      console.error('Geolocation is not supported');\n      return;\n    }\n\n    const watchId = navigator.geolocation.watchPosition(\n      ({ coords }) => {\n        const coordinates = fromLonLat([coords.longitude, coords.latitude]);\n        userMarkerRef.current.setGeometry(new Point(coordinates));\n\n        if (!vectorSourceRef.current.hasFeature(userMarkerRef.current)) {\n          userMarkerRef.current.setStyle(\n            new Style({\n              image: new Icon({\n                src: 'https://cdn-icons-png.flaticon.com/128/884/884094.png',\n                scale: 0.2,\n              }),\n            })\n          );\n          vectorSourceRef.current.addFeature(userMarkerRef.current);\n        }\n\n        mapInstance.current?.getView().setCenter(coordinates);\n      },\n      (error) => console.error('Tracking error:', error),\n      { enableHighAccuracy: true, maximumAge: 0, timeout: 5000 }\n    );\n\n    return () => navigator.geolocation.clearWatch(watchId);\n  }, []);\n\n  useEffect(() => {\n    if (!mapRef.current) return;\n\n    const vectorLayer = new VectorLayer({ source: vectorSourceRef.current });\n    const standardLayer = new TileLayer({ source: new OSM(), visible: true });\n    const satelliteLayer = new TileLayer({\n      source: new XYZ({\n        url: 'https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}',\n        maxZoom: 19,\n      }),\n      visible: false,\n    });\n\n    mapInstance.current = new Map({\n      target: mapRef.current, // Fixed typo: imageRef â†’ mapRef\n      layers: [standardLayer, satelliteLayer, vectorLayer],\n      view: new View({\n        center: INITIAL_CENTER,\n        zoom: 17,\n        maxZoom: 19,\n      }),\n      controls: defaultControls(),\n    });\n\n    placeMarkers();\n    startTracking();\n\n    return () => {\n      mapInstance.current?.setTarget(undefined);\n    };\n  }, [placeMarkers, startTracking]);\n\n  const toggleViewMode = useCallback(() => {\n    if (!mapInstance.current) return;\n\n    const layers = mapInstance.current.getLayers().getArray();\n    layers[0].setVisible(viewMode === 'satellite');\n    layers[1].setVisible(viewMode === 'standard');\n    setViewMode(prev => prev === 'standard' ? 'satellite' : 'standard');\n  }, [viewMode]);\n\n  const findLocationByName = useCallback((query: string): number[] | null => {\n    if (!query) return null;\n\n    const lowerQuery = query.toLowerCase();\n    return (\n      ACCESSIBLE_LOCATIONS.find(\n        (loc) =>\n          loc.name.toLowerCase() === lowerQuery ||\n          loc.name.toLowerCase().includes(lowerQuery)\n      )?.coordinates || null\n    );\n  }, []);\n\n  const clearRoutes = useCallback(() => {\n    vectorSourceRef.current\n      .getFeatures()\n      .filter(\n        (feature: Feature) =>\n          feature.getGeometry() instanceof LineString ||\n          feature.get('type') === 'marker'\n      )\n      .forEach((feature: Feature) =>\n        vectorSourceRef.current?.removeFeature(feature)\n      );\n  }, []);\n\n  const calculateRoute = useCallback(() => {\n    clearRoutes();\n    const startCoords = findLocationByName(startLocation);\n    const endCoords = findLocationByName(endLocation);\n\n    if (!startCoords || !endCoords) {\n      alert('Please enter valid start and end locations');\n      return;\n    }\n\n    const startPoint = fromLonLat(startCoords);\n    const endPoint = fromLonLat(endCoords);\n\n    const addMarker = (point: number[], src: string) => {\n      const marker = new Feature({\n        geometry: new Point(point),\n        type: 'marker',\n      });\n      marker.setStyle(\n        new Style({\n          image: new Icon({\n            src,\n            scale: 0.2,\n            anchor: [0.5, 1],\n          }),\n        })\n      );\n      vectorSourceRef.current.addFeature(marker);\n    };\n\n    addMarker(startPoint, 'https://cdn-icons-png.flaticon.com/128/7976/7976202.png');\n    addMarker(endPoint, 'https://cdn-icons-png.flaticon.com/128/9131/9131546.png');\n\n    mapInstance.current?.getView().fit(\n      [\n        Math.min(startPoint[0], endPoint[0]),\n        Math.min(startPoint[1], endPoint[1]),\n        Math.max(startPoint[0], endPoint[0]),\n        Math.max(startPoint[1], endPoint[1]),\n      ],\n      { padding: [50, 50, 50, 50], duration: 1000, maxZoom: 18 }\n    );\n\n    orsDirections\n      .calculate({\n        coordinates: [startCoords, endCoords],\n        profile: 'foot-walking',\n        format: 'geojson',\n        alternative_routes: { target_count: 3, share_factor: 0.6 },\n      })\n      .then((response: any) => {\n        const colors = ['blue', 'grey', 'black'];\n\n        response.features.forEach((feature: any, index: number) => {\n          const route = new Feature({\n            geometry: new LineString(\n              feature.geometry.coordinates.map((coord: number[]) =>\n                fromLonLat(coord)\n              )\n            ),\n          });\n\n          route.setStyle(\n            new Style({\n              stroke: new Stroke({\n                color: colors[index % colors.length],\n                width: 4,\n              }),\n            })\n          );\n\n          vectorSourceRef.current.addFeature(route);\n        });\n      })\n      .catch((err: Error) => console.error('Route calculation error:', err));\n  }, [startLocation, endLocation, clearRoutes, findLocationByName]);\n\n  return (\n    <div className=\"map-wrapper\">\n      <div className=\"map-page\">\n        <div className=\"top-bar\">\n          <div className=\"search-container\">\n            <MapSearch\n              onStartChange={setStartLocation}\n              onEndChange={setEndLocation}\n              onSubmit={calculateRoute}\n            />\n          </div>\n        </div>\n\n        <div className={`map-root ${className || ''}`}>\n          <div\n            ref={mapRef}\n            className=\"map-container\"\n            role=\"application\"\n            aria-label=\"Interactive accessibility map\"\n          />\n          <div className=\"map-controls\">\n            <button\n              onClick={toggleViewMode}\n              className=\"map-toggle-button\"\n            >\n              {viewMode === 'standard' ? 'Satellite' : 'Standard'}\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default AccessibleMap;"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,EAAEC,WAAW,QAAQ,OAAO;AACvE,OAAOC,GAAG,MAAM,QAAQ;AACxB,OAAOC,IAAI,MAAM,SAAS;AAC1B,OAAOC,SAAS,MAAM,eAAe;AACrC,OAAOC,WAAW,MAAM,iBAAiB;AACzC,OAAOC,YAAY,MAAM,kBAAkB;AAC3C,OAAOC,GAAG,MAAM,eAAe;AAC/B,OAAOC,GAAG,MAAM,eAAe;AAC/B,OAAOC,OAAO,MAAM,YAAY;AAChC,OAAOC,KAAK,MAAM,eAAe;AACjC,OAAOC,UAAU,MAAM,oBAAoB;AAC3C,SAASC,UAAU,QAAQ,SAAS;AACpC,SAASC,IAAI,EAAEC,KAAK,EAAEC,MAAM,QAAQ,UAAU;AAC9C,SAASC,QAAQ,IAAIC,eAAe,QAAQ,YAAY;AACxD,OAAOC,gBAAgB,MAAM,qBAAqB;AAClD,OAAOC,SAAS,MAAM,uBAAuB;AAC7C,OAAO,qBAAqB;AAC5B,OAAO,WAAW;;AAElB;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,aAAa,GAAG,IAAIJ,gBAAgB,CAACK,UAAU,CAAC;EACpDC,OAAO,EAAE;AACX,CAAC,CAAC;AAEF,MAAMC,cAAc,GAAGb,UAAU,CAAC,CAAC,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;AACtD,MAAMc,oBAAoB,GAAG,CACzB;EAAEC,IAAI,EAAE,2BAA2B;EAAEC,WAAW,EAAE,CAAC,CAAC,gBAAgB,EAAE,kBAAkB;AAAE,CAAC,EAC3F;EAAED,IAAI,EAAE,4BAA4B;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,EAC7F;EAAED,IAAI,EAAE,0BAA0B;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAC1F;EAAED,IAAI,EAAE,2BAA2B;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAC3F;EAAED,IAAI,EAAE,SAAS;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACzE;EAAED,IAAI,EAAE,UAAU;EAAEC,WAAW,EAAE,CAAC,CAAC,gBAAgB,EAAE,iBAAiB;AAAE,CAAC,EACzE;EAAED,IAAI,EAAE,UAAU;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAC1E;EAAED,IAAI,EAAE,iBAAiB;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,EAClF;EAAED,IAAI,EAAE,iBAAiB;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,eAAe;AAAE,CAAC,EAC/E;EAAED,IAAI,EAAE,iBAAiB;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACjF;EAAED,IAAI,EAAE,qBAAqB;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACvF;EAAEA,IAAI,EAAE,cAAc;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,EACjF;EAAEA,IAAI,EAAE,2BAA2B;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAC7F;EAAEA,IAAI,EAAE,kBAAkB;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,EACrF;EAAEA,IAAI,EAAE,2BAA2B;EAAE,aAAa,EAAE,CAAC,CAAC,gBAAgB,EAAE,iBAAiB;AAAE,CAAC,EAC5F;EAAEA,IAAI,EAAE,6BAA6B;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAC/F;EAAEA,IAAI,EAAE,6BAA6B;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAC/F;EAAEA,IAAI,EAAE,sBAAsB;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACxF;EAAEA,IAAI,EAAE,aAAa;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAC/E;EAAEA,IAAI,EAAE,cAAc;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,EACjF;EAAEA,IAAI,EAAE,iBAAiB;EAAE,aAAa,EAAE,CAAC,CAAC,gBAAgB,EAAE,iBAAiB;AAAE,CAAC,EAClF;EAAEA,IAAI,EAAE,gBAAgB;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,EACnF;EAAEA,IAAI,EAAE,aAAa;EAAE,aAAa,EAAE,CAAC,CAAC,gBAAgB,EAAE,kBAAkB;AAAE,CAAC,EAC/E;EAAEA,IAAI,EAAE,kBAAkB;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACpF;EAAEA,IAAI,EAAE,oBAAoB;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,EACvF;EAAEA,IAAI,EAAE,4BAA4B;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,gBAAgB;AAAE,CAAC,EAC7F;EAAEA,IAAI,EAAE,8BAA8B;EAAE,aAAa,EAAE,CAAC,CAAC,gBAAgB,EAAE,kBAAkB;AAAE,CAAC,EAChG;EAAEA,IAAI,EAAE,eAAe;EAAE,aAAa,EAAE,CAAC,CAAC,eAAe,EAAE,iBAAiB;AAAE,CAAC,EAC/E;EAAEA,IAAI,EAAE,iBAAiB;EAAE,aAAa,EAAE,CAAC,CAAC,gBAAgB,EAAE,kBAAkB;AAAE,CAAC,EACnF;EAAEA,IAAI,EAAE,iBAAiB;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACnF;EAAEA,IAAI,EAAE,oBAAoB;EAAE,aAAa,EAAE,CAAC,CAAC,gBAAgB,EAAE,iBAAiB;AAAE,CAAC,EACrF;EAAEA,IAAI,EAAE,+CAA+C;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACjH;EAAEA,IAAI,EAAE,iDAAiD;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACnH;EAAEA,IAAI,EAAE,iDAAiD;EAAE,aAAa,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACnH;EAAEA,IAAI,EAAE,mBAAmB;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,gBAAgB;AAAE,CAAC,EAClF;EAAED,IAAI,EAAE,sBAAsB;EAAEC,WAAW,EAAE,CAAC,CAAC,gBAAgB,EAAE,iBAAiB;AAAE,CAAC,EACrF;EAAED,IAAI,EAAE,iBAAiB;EAAEC,WAAW,EAAE,CAAC,CAAC,cAAc,EAAE,iBAAiB;AAAE,CAAC,EAC9E;EAAED,IAAI,EAAE,kBAAkB;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,EACnF;EAAED,IAAI,EAAE,oBAAoB;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACpF;EAAED,IAAI,EAAE,kBAAkB;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAClF;EAAED,IAAI,EAAE,mBAAmB;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EACnF;EAAED,IAAI,EAAE,eAAe;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAC/E;EAAED,IAAI,EAAE,kCAAkC;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAClG;EAAED,IAAI,EAAE,mDAAmD;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,gBAAgB;AAAE,CAAC,EAClH;EAAED,IAAI,EAAE,wBAAwB;EAAEC,WAAW,EAAE,CAAC,CAAC,gBAAgB,EAAE,iBAAiB;AAAE,CAAC,EACvF;EAAED,IAAI,EAAE,kBAAkB;EAAEC,WAAW,EAAE,CAAC,CAAC,gBAAgB,EAAE,kBAAkB;AAAE,CAAC,EAClF;EAAED,IAAI,EAAE,oBAAoB;EAAEC,WAAW,EAAE,CAAC,CAAC,gBAAgB,EAAE,kBAAkB;AAAE,CAAC,EACpF;EAAED,IAAI,EAAE,oBAAoB;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,gBAAgB;AAAE,CAAC,EACnF;EAAED,IAAI,EAAE,+CAA+C;EAAEC,WAAW,EAAE,CAAC,CAAC,gBAAgB,EAAE,kBAAkB;AAAE,CAAC,EAC/G;EAAED,IAAI,EAAE,iDAAiD;EAAEC,WAAW,EAAE,CAAC,CAAC,eAAe,EAAE,iBAAiB;AAAE,CAAC,EAC/G;EAAED,IAAI,EAAE,kCAAkC;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAClG;EAAED,IAAI,EAAE,aAAa;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,EAC9E;EAAED,IAAI,EAAE,YAAY;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAC5E;EAAED,IAAI,EAAE,cAAc;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,EAC/E;EAAED,IAAI,EAAE,cAAc;EAAEC,WAAW,EAAE,CAAC,CAAC,gBAAgB,EAAE,kBAAkB;AAAE,CAAC,EAC9E;EAAED,IAAI,EAAE,cAAc;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,iBAAiB;AAAE,CAAC,EAC9E;EAAED,IAAI,EAAE,mCAAmC;EAAEC,WAAW,EAAE,CAAC,CAAC,iBAAiB,EAAE,kBAAkB;AAAE,CAAC,CACrG;;AAEH;;AAUA,MAAMC,aAA2C,GAAGA,CAAC;EAAEC;AAAU,CAAC,KAAK;EAAAC,EAAA;EACrE,MAAMC,MAAM,GAAGjC,MAAM,CAAiB,IAAI,CAAC;EAC3C,MAAMkC,WAAW,GAAGlC,MAAM,CAAa,IAAI,CAAC;EAC5C,MAAMmC,eAAe,GAAGnC,MAAM,CAAe,IAAIO,YAAY,CAAC,CAAC,CAAC;EAChE,MAAM6B,aAAa,GAAGpC,MAAM,CAAiB,IAAIU,OAAO,CAAC,CAAC,CAAC;EAE3D,MAAM,CAAC2B,QAAQ,EAAEC,WAAW,CAAC,GAAGrC,QAAQ,CAA2B,UAAU,CAAC;EAC9E,MAAM,CAACsC,aAAa,EAAEC,gBAAgB,CAAC,GAAGvC,QAAQ,CAAS,EAAE,CAAC;EAC9D,MAAM,CAACwC,WAAW,EAAEC,cAAc,CAAC,GAAGzC,QAAQ,CAAS,EAAE,CAAC;EAE1D,MAAM0C,YAAY,GAAGzC,WAAW,CAAC,MAAM;IACrCyB,oBAAoB,CAACiB,OAAO,CAAC,CAAC;MAAEf;IAAY,CAAC,KAAK;MAChD,MAAMgB,MAAM,GAAG,IAAInC,OAAO,CAAC;QACzBoC,QAAQ,EAAE,IAAInC,KAAK,CAACE,UAAU,CAACgB,WAAW,CAAC;MAC7C,CAAC,CAAC;MAEFgB,MAAM,CAACE,QAAQ,CACb,IAAIhC,KAAK,CAAC;QACRiC,KAAK,EAAE,IAAIlC,IAAI,CAAC;UACdmC,GAAG,EAAE,qFAAqF;UAC1FC,KAAK,EAAE,IAAI;UACXC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;QACjB,CAAC;MACH,CAAC,CACH,CAAC;MAEDhB,eAAe,CAACiB,OAAO,CAACC,UAAU,CAACR,MAAM,CAAC;IAC5C,CAAC,CAAC;EACJ,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMS,aAAa,GAAGpD,WAAW,CAAC,MAAM;IACtC,IAAI,CAACqD,SAAS,CAACC,WAAW,EAAE;MAC1BC,OAAO,CAACC,KAAK,CAAC,8BAA8B,CAAC;MAC7C;IACF;IAEA,MAAMC,OAAO,GAAGJ,SAAS,CAACC,WAAW,CAACI,aAAa,CACjD,CAAC;MAAEC;IAAO,CAAC,KAAK;MAAA,IAAAC,oBAAA;MACd,MAAMjC,WAAW,GAAGhB,UAAU,CAAC,CAACgD,MAAM,CAACE,SAAS,EAAEF,MAAM,CAACG,QAAQ,CAAC,CAAC;MACnE5B,aAAa,CAACgB,OAAO,CAACa,WAAW,CAAC,IAAItD,KAAK,CAACkB,WAAW,CAAC,CAAC;MAEzD,IAAI,CAACM,eAAe,CAACiB,OAAO,CAACc,UAAU,CAAC9B,aAAa,CAACgB,OAAO,CAAC,EAAE;QAC9DhB,aAAa,CAACgB,OAAO,CAACL,QAAQ,CAC5B,IAAIhC,KAAK,CAAC;UACRiC,KAAK,EAAE,IAAIlC,IAAI,CAAC;YACdmC,GAAG,EAAE,uDAAuD;YAC5DC,KAAK,EAAE;UACT,CAAC;QACH,CAAC,CACH,CAAC;QACDf,eAAe,CAACiB,OAAO,CAACC,UAAU,CAACjB,aAAa,CAACgB,OAAO,CAAC;MAC3D;MAEA,CAAAU,oBAAA,GAAA5B,WAAW,CAACkB,OAAO,cAAAU,oBAAA,uBAAnBA,oBAAA,CAAqBK,OAAO,CAAC,CAAC,CAACC,SAAS,CAACvC,WAAW,CAAC;IACvD,CAAC,EACA6B,KAAK,IAAKD,OAAO,CAACC,KAAK,CAAC,iBAAiB,EAAEA,KAAK,CAAC,EAClD;MAAEW,kBAAkB,EAAE,IAAI;MAAEC,UAAU,EAAE,CAAC;MAAEC,OAAO,EAAE;IAAK,CAC3D,CAAC;IAED,OAAO,MAAMhB,SAAS,CAACC,WAAW,CAACgB,UAAU,CAACb,OAAO,CAAC;EACxD,CAAC,EAAE,EAAE,CAAC;EAEN5D,SAAS,CAAC,MAAM;IACd,IAAI,CAACkC,MAAM,CAACmB,OAAO,EAAE;IAErB,MAAMqB,WAAW,GAAG,IAAInE,WAAW,CAAC;MAAEoE,MAAM,EAAEvC,eAAe,CAACiB;IAAQ,CAAC,CAAC;IACxE,MAAMuB,aAAa,GAAG,IAAItE,SAAS,CAAC;MAAEqE,MAAM,EAAE,IAAIlE,GAAG,CAAC,CAAC;MAAEoE,OAAO,EAAE;IAAK,CAAC,CAAC;IACzE,MAAMC,cAAc,GAAG,IAAIxE,SAAS,CAAC;MACnCqE,MAAM,EAAE,IAAIjE,GAAG,CAAC;QACdqE,GAAG,EAAE,+FAA+F;QACpGC,OAAO,EAAE;MACX,CAAC,CAAC;MACFH,OAAO,EAAE;IACX,CAAC,CAAC;IAEF1C,WAAW,CAACkB,OAAO,GAAG,IAAIjD,GAAG,CAAC;MAC5B6E,MAAM,EAAE/C,MAAM,CAACmB,OAAO;MAAE;MACxB6B,MAAM,EAAE,CAACN,aAAa,EAAEE,cAAc,EAAEJ,WAAW,CAAC;MACpDS,IAAI,EAAE,IAAI9E,IAAI,CAAC;QACb+E,MAAM,EAAEzD,cAAc;QACtB0D,IAAI,EAAE,EAAE;QACRL,OAAO,EAAE;MACX,CAAC,CAAC;MACFM,QAAQ,EAAEnE,eAAe,CAAC;IAC5B,CAAC,CAAC;IAEFyB,YAAY,CAAC,CAAC;IACdW,aAAa,CAAC,CAAC;IAEf,OAAO,MAAM;MAAA,IAAAgC,qBAAA;MACX,CAAAA,qBAAA,GAAApD,WAAW,CAACkB,OAAO,cAAAkC,qBAAA,uBAAnBA,qBAAA,CAAqBC,SAAS,CAACC,SAAS,CAAC;IAC3C,CAAC;EACH,CAAC,EAAE,CAAC7C,YAAY,EAAEW,aAAa,CAAC,CAAC;EAEjC,MAAMmC,cAAc,GAAGvF,WAAW,CAAC,MAAM;IACvC,IAAI,CAACgC,WAAW,CAACkB,OAAO,EAAE;IAE1B,MAAM6B,MAAM,GAAG/C,WAAW,CAACkB,OAAO,CAACsC,SAAS,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC;IACzDV,MAAM,CAAC,CAAC,CAAC,CAACW,UAAU,CAACvD,QAAQ,KAAK,WAAW,CAAC;IAC9C4C,MAAM,CAAC,CAAC,CAAC,CAACW,UAAU,CAACvD,QAAQ,KAAK,UAAU,CAAC;IAC7CC,WAAW,CAACuD,IAAI,IAAIA,IAAI,KAAK,UAAU,GAAG,WAAW,GAAG,UAAU,CAAC;EACrE,CAAC,EAAE,CAACxD,QAAQ,CAAC,CAAC;EAEd,MAAMyD,kBAAkB,GAAG5F,WAAW,CAAE6F,KAAa,IAAsB;IAAA,IAAAC,qBAAA;IACzE,IAAI,CAACD,KAAK,EAAE,OAAO,IAAI;IAEvB,MAAME,UAAU,GAAGF,KAAK,CAACG,WAAW,CAAC,CAAC;IACtC,OACE,EAAAF,qBAAA,GAAArE,oBAAoB,CAACwE,IAAI,CACtBC,GAAG,IACFA,GAAG,CAACxE,IAAI,CAACsE,WAAW,CAAC,CAAC,KAAKD,UAAU,IACrCG,GAAG,CAACxE,IAAI,CAACsE,WAAW,CAAC,CAAC,CAACG,QAAQ,CAACJ,UAAU,CAC9C,CAAC,cAAAD,qBAAA,uBAJDA,qBAAA,CAIGnE,WAAW,KAAI,IAAI;EAE1B,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMyE,WAAW,GAAGpG,WAAW,CAAC,MAAM;IACpCiC,eAAe,CAACiB,OAAO,CACpBmD,WAAW,CAAC,CAAC,CACbC,MAAM,CACJC,OAAgB,IACfA,OAAO,CAACC,WAAW,CAAC,CAAC,YAAY9F,UAAU,IAC3C6F,OAAO,CAACE,GAAG,CAAC,MAAM,CAAC,KAAK,QAC5B,CAAC,CACA/D,OAAO,CAAE6D,OAAgB;MAAA,IAAAG,qBAAA;MAAA,QAAAA,qBAAA,GACxBzE,eAAe,CAACiB,OAAO,cAAAwD,qBAAA,uBAAvBA,qBAAA,CAAyBC,aAAa,CAACJ,OAAO,CAAC;IAAA,CACjD,CAAC;EACL,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMK,cAAc,GAAG5G,WAAW,CAAC,MAAM;IAAA,IAAA6G,qBAAA;IACvCT,WAAW,CAAC,CAAC;IACb,MAAMU,WAAW,GAAGlB,kBAAkB,CAACvD,aAAa,CAAC;IACrD,MAAM0E,SAAS,GAAGnB,kBAAkB,CAACrD,WAAW,CAAC;IAEjD,IAAI,CAACuE,WAAW,IAAI,CAACC,SAAS,EAAE;MAC9BC,KAAK,CAAC,4CAA4C,CAAC;MACnD;IACF;IAEA,MAAMC,UAAU,GAAGtG,UAAU,CAACmG,WAAW,CAAC;IAC1C,MAAMI,QAAQ,GAAGvG,UAAU,CAACoG,SAAS,CAAC;IAEtC,MAAMI,SAAS,GAAGA,CAACC,KAAe,EAAErE,GAAW,KAAK;MAClD,MAAMJ,MAAM,GAAG,IAAInC,OAAO,CAAC;QACzBoC,QAAQ,EAAE,IAAInC,KAAK,CAAC2G,KAAK,CAAC;QAC1BC,IAAI,EAAE;MACR,CAAC,CAAC;MACF1E,MAAM,CAACE,QAAQ,CACb,IAAIhC,KAAK,CAAC;QACRiC,KAAK,EAAE,IAAIlC,IAAI,CAAC;UACdmC,GAAG;UACHC,KAAK,EAAE,GAAG;UACVC,MAAM,EAAE,CAAC,GAAG,EAAE,CAAC;QACjB,CAAC;MACH,CAAC,CACH,CAAC;MACDhB,eAAe,CAACiB,OAAO,CAACC,UAAU,CAACR,MAAM,CAAC;IAC5C,CAAC;IAEDwE,SAAS,CAACF,UAAU,EAAE,yDAAyD,CAAC;IAChFE,SAAS,CAACD,QAAQ,EAAE,yDAAyD,CAAC;IAE9E,CAAAL,qBAAA,GAAA7E,WAAW,CAACkB,OAAO,cAAA2D,qBAAA,uBAAnBA,qBAAA,CAAqB5C,OAAO,CAAC,CAAC,CAACqD,GAAG,CAChC,CACEC,IAAI,CAACC,GAAG,CAACP,UAAU,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAAC,CAAC,CAAC,CAAC,EACpCK,IAAI,CAACC,GAAG,CAACP,UAAU,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAAC,CAAC,CAAC,CAAC,EACpCK,IAAI,CAACE,GAAG,CAACR,UAAU,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAAC,CAAC,CAAC,CAAC,EACpCK,IAAI,CAACE,GAAG,CAACR,UAAU,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAAC,CAAC,CAAC,CAAC,CACrC,EACD;MAAEQ,OAAO,EAAE,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;MAAEC,QAAQ,EAAE,IAAI;MAAE9C,OAAO,EAAE;IAAG,CAC3D,CAAC;IAEDxD,aAAa,CACVuG,SAAS,CAAC;MACTjG,WAAW,EAAE,CAACmF,WAAW,EAAEC,SAAS,CAAC;MACrCc,OAAO,EAAE,cAAc;MACvBC,MAAM,EAAE,SAAS;MACjBC,kBAAkB,EAAE;QAAEC,YAAY,EAAE,CAAC;QAAEC,YAAY,EAAE;MAAI;IAC3D,CAAC,CAAC,CACDC,IAAI,CAAEC,QAAa,IAAK;MACvB,MAAMC,MAAM,GAAG,CAAC,MAAM,EAAE,MAAM,EAAE,OAAO,CAAC;MAExCD,QAAQ,CAACE,QAAQ,CAAC3F,OAAO,CAAC,CAAC6D,OAAY,EAAE+B,KAAa,KAAK;QACzD,MAAMC,KAAK,GAAG,IAAI/H,OAAO,CAAC;UACxBoC,QAAQ,EAAE,IAAIlC,UAAU,CACtB6F,OAAO,CAAC3D,QAAQ,CAACjB,WAAW,CAAC6G,GAAG,CAAEC,KAAe,IAC/C9H,UAAU,CAAC8H,KAAK,CAClB,CACF;QACF,CAAC,CAAC;QAEFF,KAAK,CAAC1F,QAAQ,CACZ,IAAIhC,KAAK,CAAC;UACR6H,MAAM,EAAE,IAAI5H,MAAM,CAAC;YACjB6H,KAAK,EAAEP,MAAM,CAACE,KAAK,GAAGF,MAAM,CAACQ,MAAM,CAAC;YACpCC,KAAK,EAAE;UACT,CAAC;QACH,CAAC,CACH,CAAC;QAED5G,eAAe,CAACiB,OAAO,CAACC,UAAU,CAACoF,KAAK,CAAC;MAC3C,CAAC,CAAC;IACJ,CAAC,CAAC,CACDO,KAAK,CAAEC,GAAU,IAAKxF,OAAO,CAACC,KAAK,CAAC,0BAA0B,EAAEuF,GAAG,CAAC,CAAC;EAC1E,CAAC,EAAE,CAAC1G,aAAa,EAAEE,WAAW,EAAE6D,WAAW,EAAER,kBAAkB,CAAC,CAAC;EAEjE,oBACExE,OAAA;IAAKS,SAAS,EAAC,aAAa;IAAAmH,QAAA,eAC1B5H,OAAA;MAAKS,SAAS,EAAC,UAAU;MAAAmH,QAAA,gBACvB5H,OAAA;QAAKS,SAAS,EAAC,SAAS;QAAAmH,QAAA,eACtB5H,OAAA;UAAKS,SAAS,EAAC,kBAAkB;UAAAmH,QAAA,eAC/B5H,OAAA,CAACF,SAAS;YACR+H,aAAa,EAAE3G,gBAAiB;YAChC4G,WAAW,EAAE1G,cAAe;YAC5B2G,QAAQ,EAAEvC;UAAe;YAAAwC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1B;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAENnI,OAAA;QAAKS,SAAS,EAAE,YAAYA,SAAS,IAAI,EAAE,EAAG;QAAAmH,QAAA,gBAC5C5H,OAAA;UACEoI,GAAG,EAAEzH,MAAO;UACZF,SAAS,EAAC,eAAe;UACzB4H,IAAI,EAAC,aAAa;UAClB,cAAW;QAA+B;UAAAL,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAC3C,CAAC,eACFnI,OAAA;UAAKS,SAAS,EAAC,cAAc;UAAAmH,QAAA,eAC3B5H,OAAA;YACEsI,OAAO,EAAEnE,cAAe;YACxB1D,SAAS,EAAC,mBAAmB;YAAAmH,QAAA,EAE5B7G,QAAQ,KAAK,UAAU,GAAG,WAAW,GAAG;UAAU;YAAAiH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACN,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACzH,EAAA,CA9OIF,aAA2C;AAAA+H,EAAA,GAA3C/H,aAA2C;AAgPjD,eAAeA,aAAa;AAAC,IAAA+H,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}